# LOGS/STATE
--verbose
--dhcpbridge_flagfile=/etc/nova/nova.conf
--dhcpbridge=/usr/bin/nova-dhcpbridge
--logdir=/var/log/nova
--state_path=/var/lib/nova
--lock_path=/var/lock/nova
--nouse_stderr

# RABBITMQ
--rabbit_password=guest
--rabbit_port=5672
--rabbit_host=<%= @ip_address %>

# SCHEDULER
#--scheduler_manager=nova.scheduler.abstract_scheduler.AbstractScheduler
--scheduler_driver=nova.scheduler.simple.SimpleScheduler

# NETWORK
--network_manager=nova.network.manager.FlatDHCPManager
--fixed_range=<%= @ipv4_cidr %>
--ec2_dmz_host=<%= @ip_address %>
#--flat_interface=eth1
#--fixed_range=10.20.1.0/24
#--flat_network_dhcp_start=10.20.1.2
#--public_interface=eth0
<% if node[:use_quantum] then -%>
# These are set for quantum on both compute and infra nodes
--network_manager=nova.network.quantum.manager.QuantumManager
--linuxnet_interface_driver=nova.network.linux_net.LinuxOVSInterfaceDriver
--quantum_use_dhcp
--libvirt_ovs_bridge=<%= node[:quantum][:integration_bridge] %>
--libvirt_vif_type=ethernet
--libvirt_vif_driver=nova.virt.libvirt.vif.LibvirtOpenVswitchDriver
--quantum_connection_host=<%= @ip_address %>
<% end -%>

# GLANCE
--image_service=nova.image.glance.GlanceImageService
--glance_api_servers=<%= @ip_address %>:<%= @api_port %>

# COMPUTE
--compute_manager=nova.compute.manager.ComputeManager
--sql_connection=mysql://<%= @user %>:<%= @passwd %>@<%= @ip_address %>/<%= @db_name %>
--connection_type=libvirt
--libvirt_type=<%= @virt_type %>

# VNCPROXY
--novncproxy_base_url=http://<%= @ip_address %>:6080/vnc_auto.html
--xvpvncproxy_base_url=http://<%= @ip_address %>:6081/console

# MISC
# --use_deprecated_auth=false
--allow_admin_api=true
# --enable_zone_routing=true

# KEYSTONE
--keystone_ec2_url=http://<%= @ip_address %>:5000/v2.0/ec2tokens
